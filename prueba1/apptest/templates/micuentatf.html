{% extends 'base.html' %}
{% load static %}
{% block content %}
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="{% static 'image/imagenes/Icono/the-forest.icon.png' %}" />
  <title>Mi cuenta-The forest Wiki</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="{% static 'css/micuenta.css' %}">

  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Open+Sans:wght@400;600&display=swap"
    rel="stylesheet">
  

  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Open+Sans:wght@400;600&display=swap"
    rel="stylesheet">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
</head>

<body id="fondo1" style="background-color: #1E2126;">

<section class="seccion-perfil-usuario">
  <div class="perfil-usuario-header">
      <div class="perfil-usuario-portada">
          <div class="perfil-usuario-avatar">
              <img src="{% static 'image/img_wiki/user.png' %}" alt="img-avatar">
              <button type="button" class="boton-avatar">
                  <i class="far fa-image"></i>
              </button>
          </div>
      </div>
  </div>
  <div class="perfil-usuario-body">
      <div class="perfil-usuario-bio">
          <h3 class="titulo">Ngolo Kante</h3>
      </div>
      <div class="perfil-usuario-footer">
        
          <ul class="lista-datos">
            <li>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
              </svg>
              <i class="bi bi-person-circle"></i> Email: {{ usuario_email }}
            </li>
            
            <li>
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-key-fill" viewBox="0 0 16 16">
                <path d="M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2zM2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
              </svg>
              <i class="bi bi-key-fill"></i> Contrase침a:
              <input type="password" id="password-field" value="{{ usuario_contrasena }}" readonly>
            
              <!-- Checkbox to toggle password visibility -->

            </li>
            <li><input type="checkbox" id="show-password-checkbox"> Mostrar Contrase침a</li>
            <div class="w-33">
                <div class="center">
<!-- Bot칩n para mostrar el formulario -->
<div class="w-33">
  <div class="center">
    <button class="btn btn-dark" onclick="document.getElementById('formulario-edicion').style.display='block'">
      Editar
    </button>
  </div>
</div>

<!-- Formulario oculto inicialmente -->
<div id="formulario-edicion" style="display: none;" class="mt-4">
  <form method="POST" class="bg-secondary p-4 rounded">
    {% csrf_token %}

    <div class="mb-3">
      <label class="form-label text-light">Email</label>
      {{ form.email }}
    </div>

    <div class="mb-3">
      <label class="form-label text-light">Nueva Contrase침a</label>
      {{ form.contrasena }}
    </div>

    <button type="submit" class="btn btn-warning w-100">Guardar Cambios</button>
  </form>

  {% if messages %}
    <div class="alert alert-success mt-3">
      {% for message in messages %}
        {{ message }}
      {% endfor %}
    </div>
  {% endif %}
</div>
                </div>
              </div>
          </ul>
        
      </div>
  </div>

</section>






<br>
<br>
<br>

<script>
  // Get references to the checkbox and password field
  const passwordField = document.getElementById('password-field');
  const showPasswordCheckbox = document.getElementById('show-password-checkbox');

  // Event listener for the checkbox change
  showPasswordCheckbox.addEventListener('change', function() {
    // If checkbox is checked, show the real password; otherwise, mask it
    if (this.checked) {
      passwordField.type = 'text';  // Show password (unmask)
    } else {
      passwordField.type = 'password';  // Hide password (mask)
    }
  });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
{% endblock %}
